series: bionic
applications:
  zuul-scheduler:
    charm: ../../../zuul-scheduler
    num_units: 1
    options:
      tenant-config: https://raw.githubusercontent.com/ChrisMacNaughton/zosci-config/master/main.yaml
      connections: |
        - name: gerrit
          driver: gerrit
          arguments:
            server: review.opendev.org
            user: uosci-testing-bot
            sshkey: /var/lib/zuul/.ssh/id_rsa
      ssh_key: include-base64://../../../../../../zuul-ssh-key
    # options:
      # tenant-config: https://github.com/openstack/project-config/raw/master/zuul/main.yaml
  zookeeper:
    # charm: cs:~omnivector/zookeeper
    charm: cs:~chris.macnaughton/zookeeper
    num_units: 3
relations:
  - - zuul-scheduler
    - zookeeper